<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>성적관리프로그램(자바스크립트)</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  </head>
  <body>
    <span>이름입력</span>&nbsp;&nbsp;<input type="text" id="name" /><br /><br />
    <span>국어성적</span>&nbsp;&nbsp;<input
      type="text"
      id="kor"
      onkeyup="goKeyUp()"
    /><br /><br />
    <span>영어성적</span>&nbsp;&nbsp;<input
      type="text"
      id="eng"
      onkeyup="goKeyUp()"
    /><br /><br />
    <span>수학성적</span>&nbsp;&nbsp;<input
      type="text"
      id="mat"
      onkeyup="goKeyUp()"
    /><br /><br />
    <button type="button" id="btn1" onclick="showResult()">
      총점과 평균 결과를 확인해보세요!
    </button>
    <button type="button" id="btn2" onclick="actReset()">초기화</button><br />
    <div id="result"></div>
  </body>
</html>

<script>
  // 사전체크
  function goKeyUp() {
    let kor = parseInt(document.getElementById("kor").value);
    let eng = parseInt(document.getElementById("eng").value);
    let mat = parseInt(document.getElementById("mat").value);
    if (kor < 0 || kor > 100) {
      alert("성적은 0~100점까지 입력 가능합니다. 다시 입력해주세요.");
      document.getElementById("kor").value = "";
    }
    if (eng < 0 || eng > 100) {
      alert("성적은 0~100점까지 입력 가능합니다. 다시 입력해주세요.");
      document.getElementById("eng").value = "";
    }
    if (mat < 0 || mat > 100) {
      alert("성적은 0~100점까지 입력 가능합니다. 다시 입력해주세요.");
      document.getElementById("mat").value = "";
    }
  }

  // 결과보여주기
  function showResult() {
    let name = document.getElementById("name").value;
    let kor = parseInt(document.getElementById("kor").value);
    let eng = parseInt(document.getElementById("eng").value);
    let mat = parseInt(document.getElementById("mat").value);

    // console.log(isNaN(name));
    // console.log(isNaN(kor));
    // console.log(isNaN(eng));
    // console.log(isNaN(mat));

    if (kor < 0 || kor > 100 || eng < 0 || eng > 100 || mat < 0 || mat > 100) {
      alert("성적은 0~100점까지 입력 가능합니다. 다시 입력해주세요.");
      actReset();
    } else if (isNaN(kor) || isNaN(eng) || isNaN(mat)) {
      alert("성적은 필수 입력해주세요.");
      actReset();
    } else {
      let sum = kor + eng + mat;
      let avg = Math.floor((kor + eng + mat) / 3);
      document.getElementById("result").innerHTML =
        name +
        "님의 총점은 " +
        sum +
        "점이고, 평균(소수점절사)은 " +
        avg +
        "점입니다.";
    }
  }

  // 초기화
  function actReset() {
    document.getElementById("name").value = "";
    document.getElementById("kor").value = "";
    document.getElementById("eng").value = "";
    document.getElementById("mat").value = "";
    document.getElementById("result").innerHTML = "";
  }
</script>
