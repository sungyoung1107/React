<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- CDN을 이용하여 React 라이브러리와 Babel 라이브러리를 가져와야 함 -->
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      // JSX 코드를 사용하기 위해 Babel을 이용해 코드를 변환
      // 구조 분해 할당을 사용하여 React 객체 안에 있는 useState 함수를 추출하여 상수 useState에 할당
      // useState는 React의 내장 훅 중 하나로 함수형 컴포넌트에서 상태(state)를 사용할 수 있게 해주는 함수
      // 해당 코드에서는 useState 함수를 상수 useState에 할당하여 Counter 함수 내에서 상태를 다루기 위해 사용
      const { useState } = React;
      // 함수 기반은 위치 상관 없는데, 클래스 기반은 위로 올려야 함
      // 함수는 메모리를 잡고 있고, 클래스는 메모리를 잡고 있지 않다.

      // 클래스 기반
      class Mycomponent1 extends React.Component {
        render() {
          return (
            <div>
              <h1>클래스기반</h1>
            </div>
          );
        }
      }

      ReactDOM.render(
        // React element를 DOM 요소에 렌더링 :: react에서 DOM을 조작하는 메서드를 모아둔 라이브러리
        // Counter라는 컴포넌트들이 추가된다.
        <div>
          <h1>카운터</h1>
          <Counter />
          <Counter />
          <Counter />
          <Mycomponent1 />
        </div>,
        document.getElementById("root")
      );
      //리액트에서 컴포넌트 이름은 대문자로 시작하는 것이 관례.
      //컴포넌트와 일반 HTML 태그를 구분하기 위한 것.
      //예를 들어, Counter는 컴포넌트로 인식하고 div, h1 등은 일반 HTML 태그로 인식
      //const {useState} = React;

      // 함수 자체가 컴포넌트
      function Counter() {
        // 변수를 state라는 공간에 저장한다.
        // 함수에 변수를 만들면 함수를 종료하고 변수가 다 없어진다.
        // 유지를 위해서 상태정보를 state 공간에 저장해야 한다.
        // userState는 배열을 반환합니다. 첫 번째요소는 현재 상태의 값이고 두 번째요소는 상태값을 변경하는 함수
        const [number, setNumber] = useState(0);
        // 변수, 변수의 값을 바꾸는 함수 = useState(변수초기값)
        const onIncrease = () => {
          setNumber(number + 1); // 반드시 set 함수에 의해서 값이 바뀌어야 함
          // react가 화면에 렌더링 작업을 진행한다.
        };
        const onDecrease = () => {
          setNumber(number - 1);
        };
        return (
          <div>
            <h3>{number}</h3>
            <button type="button" onClick={onIncrease}>
              +
            </button>
            <button type="button" onClick={onDecrease}>
              -
            </button>
          </div>
        );
      }
    </script>
  </body>
</html>
